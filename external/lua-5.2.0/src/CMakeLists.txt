add_definitions(-D_CRT_SECURE_NO_WARNINGS)
if(MSVC)
    add_definitions(-DLUA_BUILD_AS_DLL)
endif(MSVC)
add_library(lua SHARED
lapi.c
lauxlib.c
lbaselib.c
lbitlib.c
lcode.c
lcorolib.c
lctype.c
ldblib.c
ldebug.c
ldo.c
ldump.c
lfunc.c
lgc.c
linit.c
liolib.c
llex.c
lmathlib.c
lmem.c
loadlib.c
lobject.c
lopcodes.c
loslib.c
lparser.c
lstate.c
lstring.c
lstrlib.c
ltable.c
ltablib.c
ltm.c
lundump.c
lvm.c
lzio.c
)
if(CMAKE_COMPILER_IS_GNUCC)
    target_link_libraries(lua m)
endif(CMAKE_COMPILER_IS_GNUCC)
